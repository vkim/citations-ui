{
  "name": "semaphore",
  "version": "1.0.1",
  "description": "semaphore for node",
  "engine": "node >= 0.6.0",
  "main": "./lib/semaphore.js",
  "dependencies": {},
  "devDependencies": {
    "mocha": "1.0.x",
    "should": "0.6.x"
  },
  "homepage": "https://github.com/abrkn/semaphore.js",
  "readme": "semaphore.js\r\n============\r\n\r\nInstall:\r\nnpm install semaphore\r\n\r\nLimit simultaneous access to a resource.\r\n\r\n```javascript\r\n// Create\r\nvar sem = require('semaphore')(capacity);\r\n\r\n// Take\r\nsem.take(fn[, n=1])\r\nsem.take(n, fn)\r\n\r\n// Leave\r\nsem.leave([n])\r\n```\r\n\r\n\r\n```javascript\r\n// Limit concurrent db access\r\nvar sem = require('semaphore')(1);\r\nvar server = require('http').createServer(req, res) {\r\n\tsem.take(function() {\r\n\t\texpensive_database_operation(function(err, res) {\r\n\t\t\tsem.leave();\r\n\r\n\t\t\tif (err) return res.end(\"Error\");\r\n\r\n\t\t\treturn res.end(res);\r\n\t\t});\r\n\t});\r\n});\r\n```\r\n\r\n```javascript\r\n// 2 clients at a time\r\nvar sem = require('semaphore')(2);\r\nvar server = require('http').createServer(req, res) {\r\n\tres.write(\"Then good day, madam!\");\r\n\r\n\tsem.take(function() {\r\n\t\tres.end(\"We hope to see you soon for tea.\");\r\n\t\tsem.leave();\r\n\t});\r\n});\r\n```\r\n\r\n```javascript\r\n// Rate limit\r\nvar sem = require('semaphore')(10);\r\nvar server = require('http').createServer(req, res) {\r\n\tsem.take(function() {\r\n\t\tres.end(\".\");\r\n\t\t\r\n\t\tsetTimeout(sem.leave, 500)\r\n\t});\r\n});\r\n```",
  "readmeFilename": "README.md",
  "_id": "semaphore@1.0.1",
  "_from": "semaphore@"
}
